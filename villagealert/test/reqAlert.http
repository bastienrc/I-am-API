###
### VARIABLES
###

@baseUrl = http://localhost:8000
@token = {{login.response.body.token}}
@userId = {{login.response.body.id}}
@email = test05@gmail.fr
@password = Test62200
@alertId = 61c0f70649023f0fbf8b45b5


###
### USERS
###

### Signup
POST {{baseUrl}}/api/users/signup HTTP/1.1
content-type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}",
  "firstname": "Pat",
  "lastname": "Hibulaire",
  "address": "42 rue nullepart ailleurs",
  "phone": "0123456789",
  "city": "Calais",
  "postCode": "62200"
}

### Login
# @name login
POST {{baseUrl}}/api/users/login HTTP/1.1
content-type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

### Read: Affiche un utilisateur
GET {{baseUrl}}/api/alerts/{{alertId}}
Content-Type: application/json
Authorization: Bearer {{token}}

### Update: Modifie un utilisateur
PATCH {{baseUrl}}/api/users/{{userId}} HTTP/1.1
content-type: application/json

{
  "lastname": "Albert"
}


###
### Alert
###

### Create: Envoie d'une alerte
POST {{baseUrl}}/api/alerts HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "userId": "{{userId}}",
  "type": "voirie",
  "description": "Mon voisin est un con 2 !",
  "address": "Mars"
}

### Read All: Liste toute les alertes
GET {{baseUrl}}/api/alerts
Content-Type: application/json
Authorization: Bearer {{token}}

### Read: Affiche une alerte
GET {{baseUrl}}/api/alerts/{{alertId}}
Content-Type: application/json
Authorization: Bearer {{token}}

### Delete: Efface une chambre
DELETE {{baseUrl}}/api/alerts/{{alertId}} HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}
